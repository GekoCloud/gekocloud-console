(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{2508:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(564),l=n(a(3910)),i=function(){return(0,r.renderRoutes)(l.default)};t.default=i},2691:function(e,a,n){"use strict";var r=n(4);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l,i=r(n(61)),o=r(n(37)),u=r(n(62)),d=r(n(13)),s=r(n(14)),c=r(n(17)),f=r(n(16)),p=r(n(18)),m=r(n(0)),v=n(60),h=r(n(22)),g=r(n(958)),y=r(n(2457)),_=r(n(980)),w=r(n(2521)),E=r(n(388)),b=r(n(2518)),C=r(n(2605)),k=r(n(3927)),S=r(n(3937)),A=r(n(3939)),N=n(2531),P=n(49),I=n(2553),R=r(n(2884)),O=(0,v.inject)("rootStore")(l=(0,v.observer)(l=function(e){function a(){var e,n;(0,d.default)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(n=(0,c.default)(this,(e=(0,f.default)(a)).call.apply(e,[this].concat(l)))).getData=function(){var e=(0,u.default)(i.default.mark((function e(t){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=N.REVIEW_QUERY_STATUS[n.reviewType],e.next=3,n.store.fetchReviewList((0,o.default)({status:a,queryApp:!0},t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getAppIcon=function(e){return((0,g.default)(n.store.list.apps,{app_id:e})||{}).icon},n.getAppISV=function(e){return((0,g.default)(n.store.list.apps,{app_id:e})||{}).isv},n.showReviewModal=function(e){return function(){n.setState((function(){return{selectItem:e}})),n.showModal("appReview")()}},n.showAppReview=function(){n.showModal("appReview")()},n.handlePass=function(){var e=n.state.selectItem,a=e.app_id,r=e.version_id;n.store.handle({app_id:a,version_id:r,action:"pass"}).then((function(){n.hideModal("appReview")(),E.default.success(t("Pass Successfully")),n.getData()}))},n.handleReject=function(e){var a=n.state.selectItem,r=a.app_id,l=a.version_id;n.store.handle((0,o.default)({app_id:r,version_id:l,action:"reject"},e)).then((function(){n.hideModal("appReview")(),n.hideModal("reviewReject")(),E.default.success(t("Reject Successfully")),n.getData()}))},n.getOperator=function(e){return(0,h.default)((0,_.default)(e),"[0].operator","-")},n.getColumns=function(){return[{title:t("Review Object"),dataIndex:"review_id",width:"30%",render:function(e,t){return m.default.createElement(C.default,{isApp:!0,avatarClass:R.default.appIcon,avatar:n.getAppIcon(t.app_id),iconLetter:t.app_name,iconSize:40,title:t.app_name,desc:t.version_name||"-",onClick:n.showReviewModal(t)})}},{title:t("Type"),dataIndex:"type",isHideable:!0,width:"15%",render:function(){return t("Request for Approval")}},{title:t("Workspace"),dataIndex:"app_id",isHideable:!0,width:"10%",render:function(e){return n.getAppISV(e)}},{title:t("Operator"),dataIndex:"phase",isHideable:!0,width:"10%",render:function(e){return n.getOperator(e)}},{title:t("Review Status"),dataIndex:"status",isHideable:!0,width:"15%",render:function(e){return m.default.createElement(w.default,{className:R.default.status,type:(0,I.transferReviewStatus)(e),name:t((0,y.default)((0,I.transferReviewStatus)(e)))})}},{title:t("Updated Time"),dataIndex:"status_time",isHideable:!0,width:"15%",render:function(e){return(0,P.getLocalTime)(e).fromNow()}},{key:"more",render:n.renderMore}]},n}return(0,p.default)(a,e),(0,s.default)(a,[{key:"init",value:function(){this.store=new A.default}},{key:"getTableProps",value:function(){return(0,o.default)({},b.default.prototype.getTableProps.call(this),{onCreate:null,selectActions:[]})}},{key:"renderHeader",value:function(){return null}},{key:"renderExtraModals",value:function(){var e=this.state,a=e.appReview,n=e.reviewReject,r=e.selectItem;return m.default.createElement("div",null,m.default.createElement(k.default,{title:t("Review Content"),description:t("REVIEW_CONTENT_DESC"),icon:"safe-notice",visible:a,canHandle:this.canHandle,detail:r,onOk:this.handlePass,onCancel:this.hideModal("appReview"),onReject:this.showModal("reviewReject")}),m.default.createElement(S.default,{title:t("Reject Reason"),description:t("REJECT_REASON_DESC"),icon:"safe-notice",visible:n,canHandle:this.canHandle,versionId:(0,h.default)(r,"version_id",""),onOk:this.handleReject,onCancel:this.hideModal("reviewReject")}))}},{key:"name",get:function(){return"Reviews"}},{key:"authKey",get:function(){return"apps"}},{key:"reviewType",get:function(){return(0,h.default)(this.props,"route.name","all")}},{key:"canHandle",get:function(){return"unprocessed"===(0,h.default)(this.props,"route.name")}},{key:"itemActions",get:function(){return[{key:"handle",icon:"eye",text:t(this.canHandle?"Review":"View"),onClick:this.showAppReview}]}}]),a}(b.default))||l)||l;a.default=O},2884:function(e,t,a){e.exports={header:"Reviews__header--1iwoJ",banner:"Reviews__banner--2oFZS",nav:"Reviews__nav--f70Vh",status:"Reviews__status--3sv36"}},3910:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(97)),l=a(564),i=n(a(3911)),o=n(a(3913)),u=n(a(3914)),d=n(a(3921)),s=n(a(3924)),c="/apps-manage",f=[].concat((0,r.default)(d.default),[{path:c,component:i.default,routes:[].concat((0,r.default)(s.default),[{path:"".concat(c,"/store"),component:o.default,exact:!0},{path:"".concat(c,"/categories"),component:u.default,exact:!0},(0,l.getIndexRoute)({path:c,to:"".concat(c,"/store"),exact:!0}),(0,l.getIndexRoute)({path:"*",to:"/404",exact:!0})])}]);t.default=f},3911:function(e,a,n){"use strict";var r=n(4),l=n(81);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i,o=r(n(13)),u=r(n(14)),d=r(n(17)),s=r(n(16)),c=r(n(18)),f=l(n(0)),p=n(60),m=n(564),v=n(955),h=r(n(3912)),g=(0,p.inject)("rootStore")(i=(0,p.observer)(i=function(e){function a(){return(0,o.default)(this,a),(0,d.default)(this,(0,s.default)(a).apply(this,arguments))}return(0,c.default)(a,e),(0,u.default)(a,[{key:"render",value:function(){var e=this.props,a=e.match,n=e.route,r=e.location;return f.default.createElement("div",{className:"ks-page-body"},f.default.createElement("div",{className:"ks-page-side"},f.default.createElement("div",{className:h.default.navTitle},f.default.createElement("img",{src:"/assets/op-logo_cloud.svg",alt:"",className:h.default.logo}),f.default.createElement("label",{className:h.default.word},t("Apps Management"))),f.default.createElement(v.Nav,{className:"ks-page-nav",navs:globals.app.getManageAppNavs(),location:r,match:a})),f.default.createElement("div",{className:"ks-page-main"},(0,m.renderRoutes)(n.routes)))}}]),a}(f.Component))||i)||i;a.default=g},3912:function(e,t,a){e.exports={wrapper:"containers__wrapper--3CjyB",main:"containers__main--37MyL",navWrapper:"containers__navWrapper--2XSiD",nav:"containers__nav--3NHNP",cards:"containers__cards--3gJVH",title:"containers__title--2pd0A",create:"containers__create--2w1AZ",total:"containers__total--29cGB",noData:"containers__noData--1oOCw",loading:"containers__loading--AR1qc",navTitle:"containers__navTitle--1L1Bo",logo:"containers__logo--1pNDD",word:"containers__word--1tUYm"}},3913:function(e,a,n){"use strict";var r=n(4);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l,i=r(n(37)),o=r(n(13)),u=r(n(14)),d=r(n(17)),s=r(n(16)),c=r(n(18)),f=r(n(0)),p=n(60),m=r(n(2457)),v=r(n(2521)),h=r(n(2571)),g=r(n(2518)),y=r(n(2605)),_=n(49),w=n(2553),E=r(n(2690)),b=(0,p.inject)("rootStore")(l=(0,p.observer)(l=function(e){function a(){var e,n;(0,o.default)(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(n=(0,d.default)(this,(e=(0,s.default)(a)).call.apply(e,[this].concat(l)))).getColumns=function(){return[{title:t("Name"),dataIndex:"name",width:"30%",render:function(e,t){return f.default.createElement(y.default,{isApp:!0,to:"/apps-manage/store/".concat(t.app_id),avatar:t.icon,iconLetter:e,iconSize:40,title:e,desc:t.description})}},{title:t("Status"),dataIndex:"status",isHideable:!0,width:"10%",render:function(e){return f.default.createElement(v.default,{type:e,name:t((0,m.default)((0,w.transferAppStatus)(e)))})}},{title:t("Provider"),dataIndex:"isv",isHideable:!0,width:"10%"},{title:t("Latest Version"),dataIndex:"latest_app_version.name",isHideable:!0,width:"16%"},{title:t("App Category"),dataIndex:"category_set",isHideable:!0,width:"17%",render:function(e){return(0,w.getAppCategoryNames)(e)}},{title:t("Release / Suspended Time"),dataIndex:"status_time",isHideable:!0,width:"17%",render:function(e){return(0,_.getLocalTime)(e).fromNow()}}]},n}return(0,c.default)(a,e),(0,u.default)(a,[{key:"init",value:function(){this.store=new E.default}},{key:"getTableProps",value:function(){return(0,i.default)({},g.default.prototype.getTableProps.call(this),{onCreate:null,selectActions:[]})}},{key:"renderHeader",value:function(){return f.default.createElement(h.default,{type:"white",icon:"appcenter",name:t("App Store"),desc:t("APP_STORE_DESC")})}},{key:"authKey",get:function(){return"apps"}},{key:"name",get:function(){return"Apps"}},{key:"rowKey",get:function(){return"app_id"}}]),a}(g.default))||l)||l;a.default=b},3914:function(e,a,n){"use strict";var r=n(4);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l,i=r(n(30)),o=r(n(13)),u=r(n(14)),d=r(n(17)),s=r(n(16)),c=r(n(66)),f=r(n(18)),p=r(n(0)),m=n(19),v=n(60),h=n(938),g=r(n(38)),y=r(n(129)),_=r(n(22)),w=r(n(3)),E=r(n(2571)),b=r(n(2516)),C=r(n(388)),k=r(n(2524)),S=r(n(3915)),A=r(n(2664)),N=n(49),P=r(n(3917)),I=r(n(3920)),R=(0,v.inject)("rootStore")(l=(0,v.observer)(l=function(e){function a(e){var n;return(0,o.default)(this,a),(n=(0,d.default)(this,(0,s.default)(a).call(this,e))).getData=function(){return n.store.fetchList({noLimit:!0,statistics:!0})},n.isSelectedCategory=function(e,t,a){return t?e.category_id===t:0===a},n.showModal=function(e,a){return function(r){r.stopPropagation();var l=a.app_total;if("deleteShow"===e&&l>0)return C.default.warning({content:t.html("DELETE_CATEGORY_WARNING",{total:l})}),!1;n.setState((function(){var t;return t={},(0,i.default)(t,e,!0),(0,i.default)(t,"category",a),t}))}},n.hideModal=function(e){return(0,N.cacheFunc)("_hideModal_".concat(e),(function(){var t;n.setState((t={},(0,i.default)(t,e,!1),(0,i.default)(t,"category",{}),t))}),(0,c.default)(n))},n.createOrModify=function(e){n.state.category.category_id?n.store.update(e).then((function(){n.hideModal("categoryShow")(),C.default.success({content:"".concat(t("Modify Successfully"),"!")}),n.getData()})):n.store.create(e).then((function(){n.hideModal("categoryShow")(),C.default.success({content:"".concat(t("Created Successfully"),"!")}),n.getData()}))},n.delete=function(){n.store.delete(n.state.category).then((function(){n.hideModal("deleteShow")(),C.default.success({content:"".concat(t("Delete Successfully"),"!")}),n.getData()}))},n.selectCategory=function(e){n.state.selectCategoryId!==e&&n.setState({selectCategoryId:e})},n.state={category:{},selectCategoryId:""},n.store=new A.default,n}return(0,f.default)(a,e),(0,u.default)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"renderHeader",value:function(){return p.default.createElement(E.default,{type:"white",icon:"tag",name:t("App Categories"),desc:t("APP_CATEGORIES_DESC")})}},{key:"renderCategories",value:function(){var e=this,a=this.store.list,n=this.state.selectCategoryId,r=(0,m.toJS)((0,_.default)(this.store,"list.data",[]));return p.default.createElement(y.default,{spinning:a.isLoading},p.default.createElement(b.default,{className:I.default.categories},p.default.createElement("div",{className:I.default.title},p.default.createElement("label",null,t("All Categories")," (",a.total,")"),p.default.createElement("label",{className:I.default.add},p.default.createElement(g.default,{onClick:this.showModal("categoryShow",{}),name:"add",size:20}))),p.default.createElement("ul",null,r.map((function(a,r){var l;return p.default.createElement("li",{key:a.category_id,onClick:function(){return e.selectCategory(a.category_id)},className:(0,w.default)((l={},(0,i.default)(l,I.default.hasAction,"ctg-uncategorized"!==a.category_id),(0,i.default)(l,I.default.active,e.isSelectedCategory(a,n,r)),l))},p.default.createElement(g.default,{className:I.default.icon,name:["uncategorized",""].includes(a.description)?"tag":a.description,size:16}),t("APP_CATE_".concat(a.name.toUpperCase()),{defaultValue:a.name}),p.default.createElement("label",{className:I.default.number},a.app_total||0),p.default.createElement("label",{className:I.default.actions},p.default.createElement(g.default,{onClick:e.showModal("categoryShow",a),name:"pen",size:16}),p.default.createElement(g.default,{onClick:e.showModal("deleteShow",a),name:"trash",size:16})))})))))}},{key:"renderModals",value:function(){var e=this.state.category,a=(0,m.toJS)((0,_.default)(this.store,"list.data",[])).map((function(e){return e.name}));return p.default.createElement("div",null,p.default.createElement(k.default,{desc:t("DELETE_CATEGORY_DESC",{name:e.name}),visible:this.state.deleteShow,onOk:this.delete,onCancel:this.hideModal("deleteShow"),isSubmitting:this.store.isSubmitting}),p.default.createElement(S.default,{title:t("Category"),icon:"tag",visible:this.state.categoryShow,detail:this.state.category,categoryNames:a,onOk:this.createOrModify,onCancel:this.hideModal("categoryShow"),isSubmitting:this.store.isSubmitting}))}},{key:"render",value:function(){var e=this.store.list,t=(0,m.toJS)((0,_.default)(e,"data",[])),a=(0,m.toJS)((0,_.default)(e,"data[0].category_id",""));return p.default.createElement("div",{className:I.default.main},this.renderHeader(),p.default.createElement(h.Columns,null,p.default.createElement(h.Column,{className:"is-3"},this.renderCategories()),p.default.createElement(h.Column,null,!e.isLoading&&p.default.createElement(P.default,{match:this.props.match,appStore:this.store,categories:t,categoryId:this.state.selectCategoryId||a,queryAppTotal:this.getData}))),this.renderModals())}}]),a}(p.default.Component))||l)||l;a.default=R},3915:function(e,a,n){"use strict";var r=n(81),l=n(4);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=l(n(70)),o=l(n(30)),u=l(n(63)),d=l(n(13)),s=l(n(14)),c=l(n(17)),f=l(n(16)),p=l(n(18)),m=r(n(0)),v=l(n(1)),h=l(n(3)),g=l(n(386)),y=l(n(38)),_=l(n(2473)),w=l(n(387)),E=l(n(267)),b=n(2531),C=l(n(3916)),k=function(e){function a(e){var n;return(0,d.default)(this,a),(n=(0,c.default)(this,(0,f.default)(a).call(this,e))).changeName=function(e){n.setState({name:e})},n.changeIcon=function(e){n.setState({description:e})},n.nameValidator=function(e,a,r){if(!a)return r();var l=n.props,i=l.detail,o=l.categoryNames;if(a!==i.name&&o.includes(a))return r({message:t("Name exists"),field:e.field});r()},n.createOrModify=function(){var e={name:n.state.name,description:n.state.description,locale:"{}"},t=n.props.detail.category_id;t&&(e.category_id=t),n.formRef.validate((function(){n.props.onOk(e)}))},n.onCancel=function(){n.setState({name:"",description:""}),n.props.onCancel()},n.state={name:n.props.detail.name,description:n.props.detail.description},n}return(0,p.default)(a,e),(0,s.default)(a,[{key:"componentWillReceiveProps",value:function(e){(0,_.default)(e.detail,this.props.detail)||this.setState({name:e.detail.name,description:e.detail.description})}},{key:"render",value:function(){var e=this,a=this.props,n=a.visible,r=(0,u.default)(a,["visible"]),l={name:this.state.name,description:this.state.description};return m.default.createElement(w.default,(0,i.default)({width:600,visible:n,footerClassName:C.default.footer},r,{onOk:this.createOrModify,onCancel:this.onCancel}),m.default.createElement(E.default,{data:l,ref:function(t){e.formRef=t}},m.default.createElement(E.default.Item,{label:t("Category Name"),desc:t("CATEGORY_NAME_DESC"),rules:[{required:!0,message:t("Please input category name")},{validator:this.nameValidator}]},m.default.createElement(g.default,{name:"name",onChange:this.changeName,maxLength:20})),m.default.createElement(E.default.Item,{label:t("Icon")},m.default.createElement("div",{name:"description",className:C.default.icons,value:l.description},b.CATEGORY_ICONS.map((function(t){return m.default.createElement("label",{key:t,onClick:function(){return e.changeIcon(t)},className:(0,h.default)((0,o.default)({},C.default.active,t===l.description))},m.default.createElement(y.default,{name:t,size:20}))}))))))}}]),a}(m.Component);a.default=k,k.propTypes={detail:v.default.object,categoryNames:v.default.array,onOk:v.default.func,onCancel:v.default.func},k.defaultProps={detail:{},categoryNames:[],onOk:function(){},onCancel:function(){}}},3916:function(e,t,a){e.exports={footer:"CategoryCreate__footer--2Qp-O",icons:"CategoryCreate__icons--XKu-m",active:"CategoryCreate__active--3i5IW"}},3917:function(e,a,n){"use strict";var r=n(4);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l,i=r(n(37)),o=r(n(13)),u=r(n(14)),d=r(n(17)),s=r(n(16)),c=r(n(18)),f=r(n(0)),p=n(60),m=r(n(388)),v=r(n(2518)),h=r(n(2690)),g=r(n(2605)),y=r(n(3918)),_=(0,p.inject)("rootStore")(l=(0,p.observer)(l=function(e){function a(e){var n;return(0,o.default)(this,a),(n=(0,d.default)(this,(0,s.default)(a).call(this,e))).adjustCategory=function(e){n.store.adjustCategory(e).then((function(){n.hideModal("adjustShow")(),m.default.success({content:"".concat(t("Adjust Successfully"),"!")}),n.props.queryAppTotal()}))},n.getColumns=function(){return[{title:t("Name"),dataIndex:"app_id",width:"50%",render:function(e,t){return f.default.createElement(g.default,{isApp:!0,to:"/apps/".concat(e),avatarType:"appIcon",avatar:t.icon,iconLetter:t.name,iconSize:40,title:t.name,desc:t.description})}},{title:t("Provider"),dataIndex:"isv",isHideable:!0,width:"25%"},{title:t("Latest Version"),dataIndex:"latest_app_version.name",isHideable:!0,width:"25%"}]},n.state={categoryId:n.props.categoryId},n.init(),n}return(0,c.default)(a,e),(0,u.default)(a,[{key:"init",value:function(){this.store=new h.default}},{key:"componentWillReceiveProps",value:function(e){e.categoryId!==this.props.categoryId&&(this.getData({category_id:e.categoryId}),this.setState((function(){return{categoryId:e.categoryId}})),this.store.list.selectedRowKeys=[])}},{key:"getData",value:function(e){this.store.fetchList((0,i.default)({category_id:this.state.categoryId,status:"active"},e))}},{key:"getTableProps",value:function(){return(0,i.default)({},v.default.prototype.getTableProps.call(this),{onCreate:null,selectActions:[{key:"adjust",type:"primary",text:t("Change Category"),onClick:this.showModal("adjustShow")}]})}},{key:"renderHeader",value:function(){return null}},{key:"renderModals",value:function(){return f.default.createElement(y.default,{title:t("Adjust App Category"),icon:"tag",categoryId:this.state.categoryId||this.props.categoryId,categories:this.props.categories,visible:this.state.adjustShow,onOk:this.adjustCategory,onCancel:this.hideModal("adjustShow"),isSubmitting:this.store.isSubmitting})}},{key:"authKey",get:function(){return"apps"}},{key:"name",get:function(){return"App Categories"}},{key:"rowKey",get:function(){return"app_id"}}]),a}(v.default))||l)||l;a.default=_},3918:function(e,a,n){"use strict";var r=n(81),l=n(4);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=l(n(97)),o=l(n(70)),u=l(n(13)),d=l(n(14)),s=l(n(17)),c=l(n(16)),f=l(n(18)),p=r(n(0)),m=l(n(1)),v=l(n(225)),h=l(n(387)),g=l(n(267)),y=l(n(3919)),_=function(e){function a(e){var t;return(0,u.default)(this,a),(t=(0,s.default)(this,(0,c.default)(a).call(this,e))).handleChange=function(e){t.setState({categoryId:e})},t.adjustCategory=function(){t.props.onOk({category_id:t.state.categoryId})},t.onCancel=function(){t.setState({categoryId:""}),t.props.onCancel()},t.state={categoryId:t.props.categoryId},t}return(0,f.default)(a,e),(0,d.default)(a,[{key:"render",value:function(){var e=this,a=Object.assign({},this.props),n={category_id:this.state.categoryId};return p.default.createElement(h.default,(0,o.default)({width:600,footerClassName:y.default.footer},a,{onOk:this.adjustCategory,onCancel:this.onCancel}),p.default.createElement(g.default,{className:y.default.form,data:n,ref:function(t){e.formRef=t}},p.default.createElement(g.default.Item,{label:t("Adjust App Category"),desc:t("ADJUST_CATEGORY_DESC")},p.default.createElement(v.default,{name:"category_id",options:this.categories,value:this.state.categoryId,onChange:this.handleChange}))))}},{key:"categories",get:function(){return(0,i.default)(this.props.categories.map((function(e){var a=e.name,n=e.category_id;return{label:t("APP_CATE_".concat(a.toUpperCase()),{defaultValue:a}),value:n}})))}}]),a}(p.Component);a.default=_,_.propTypes={categories:m.default.array,categoryId:m.default.string,onOk:m.default.func,onCancel:m.default.func},_.defaultProps={categories:[],categoryId:"",onOk:function(){},onCancel:function(){}}},3919:function(e,t,a){e.exports={footer:"CategoryAdjust__footer--2TvTf",form:"CategoryAdjust__form--3wLMP"}},3920:function(e,t,a){e.exports={main:"Categories__main--1VZLj",categories:"Categories__categories--2ILzH",title:"Categories__title--3s5LF",add:"Categories__add--4JXd0",active:"Categories__active--1QNiR",hasAction:"Categories__hasAction--2ECGG",number:"Categories__number--3RdtJ",actions:"Categories__actions--2AFy7",icon:"Categories__icon--3tnOv",dot:"Categories__dot--3drWf"}},3921:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(49),l=a(564),i=n(a(2517)),o=n(a(3922)),u=n(a(2772)),d=n(a(2779)),s=n(a(2781)),c=n(a(2782)),f="/apps-manage/store/:appId",p=[{name:"versions",title:"Versions",component:u.default},{name:"app-information",title:"App Information",component:d.default},{name:"audit-records",title:"Audit Records",component:s.default},{name:"app-instances",title:"App Instances",component:c.default}],m=[{path:f,component:(0,r.withProps)(i.default,{module:"applications",component:o.default,breadcrumbs:[{label:"App Store",url:"/apps-manage/store"}]}),routes:(0,l.getChildRoutes)(p,f)}];t.default=m},3922:function(e,a,n){"use strict";var r=n(4);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l,i,o=r(n(13)),u=r(n(14)),d=r(n(17)),s=r(n(16)),c=r(n(18)),f=r(n(41)),p=r(n(0)),m=n(19),v=n(60),h=r(n(22)),g=r(n(2457)),y=r(n(388)),_=r(n(944)),w=r(n(2773)),E=r(n(2520)),b=r(n(2541)),C=r(n(2572)),k=r(n(2555)),S=n(2553),A=n(2589),N=n(49),P=r(n(3923)),I=(0,v.inject)("rootStore")(l=(0,v.observer)((i=function(e){function a(){var e,n;(0,o.default)(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(n=(0,d.default)(this,(e=(0,s.default)(a)).call.apply(e,[this].concat(l)))).getOperations=function(){return"active"===n.store.detail.status?[{key:"suspend",type:"control",icon:"sort-descending",text:t("Suspend App"),onClick:n.showHandleModel("suspend")}]:[{key:"recover",type:"control",icon:"sort-ascending",text:t("Activate App"),onClick:n.showHandleModel("recover")}]},n.getAttrs=function(){var e=(0,m.toJS)(n.store.detail),a=(0,h.default)(e,"create_time",new Date);return[{name:t("App Number"),value:e.app_id},{name:t("Status"),value:t((0,g.default)((0,S.transferAppStatus)(e.status)))},{name:t("Category"),value:(0,S.getAppCategoryNames)((0,h.default)(e,"category_set",[]))},{name:t("App Version Types"),value:(0,S.getVersionTypesName)((0,h.default)(e,"app_version_types",""))},{name:t("App Provider"),value:(0,h.default)(e,"isv","-")},{name:t("Created Time"),value:(0,N.getLocalTime)(a).format("YYYY-MM-DD HH:mm:ss")}]},n.showHandleModel=function(e){return function(){n.showModal("handleConfirm")(),n.setState({handleType:e})}},n.handleApp=function(){var e=n.state.handleType,a=n.props.match.params.appId;n.store.handle({action:e,app_id:a}).then((function(){var a=A.HANDLE_TYPE_TO_SHOW[e]||e;n.hideModal("handleConfirm")(),y.default.success({content:"".concat(t("".concat((0,g.default)(a)," Successfully")),"!")}),n.fetchData()}))},n}return(0,c.default)(a,e),(0,u.default)(a,[{key:"init",value:function(){this.store=new C.default,this.versionStore=new k.default,this.store.isAdmin=!0}},{key:"renderSider",value:function(){var e=this.store.detail,t=p.default.createElement("label",{className:P.default.icon},p.default.createElement(_.default,{iconLetter:e.name,src:e.icon,alt:""}));return p.default.createElement(b.default,{icon:t,name:(0,h.default)(e,"name",""),desc:this.detailDesc,operations:this.getEnabledOperations(),labels:this.labels,attrs:this.getAttrs()})}},{key:"renderExtraModals",value:function(){var e=this.state.handleType;return p.default.createElement("div",null,p.default.createElement(w.default,{content:t.html("APP_".concat((e||"suspend").toUpperCase(),"_TIP"),{name:(0,h.default)(this.props,"detail.name","")}),visible:this.state.handleConfirm,onOk:this.handleApp,onCancel:this.hideModal("handleConfirm"),isSubmitting:this.store.isSubmitting}))}},{key:"detailName",get:function(){return this.store.detail.name}},{key:"detailDesc",get:function(){return this.store.detail.description}},{key:"listUrl",get:function(){return"/apps-manage/store"}}]),a}(E.default),(0,f.default)(i.prototype,"detailName",[m.computed],Object.getOwnPropertyDescriptor(i.prototype,"detailName"),i.prototype),(0,f.default)(i.prototype,"detailDesc",[m.computed],Object.getOwnPropertyDescriptor(i.prototype,"detailDesc"),i.prototype),l=i))||l)||l;a.default=I},3923:function(e,t,a){e.exports={icon:"Detail__icon--1jfJ8"}},3924:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(564),l=n(a(3925)),i=n(a(3926)),o=n(a(3940)),u=n(a(3941)),d="/apps-manage/reviews",s=[{name:"unprocessed",title:"Unprocessed",component:i.default},{name:"processed",title:"Processed",component:o.default},{name:"all",title:"All",component:u.default}],c=[{path:d,component:l.default,routes:(0,r.getChildRoutes)(s,d)}];t.default=c},3925:function(e,a,n){"use strict";var r=n(4);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l,i=r(n(13)),o=r(n(14)),u=r(n(17)),d=r(n(16)),s=r(n(18)),c=r(n(0)),f=n(60),p=n(564),m=r(n(2571)),v=r(n(2652)),h=r(n(2884)),g=(0,f.inject)("rootStore")(l=(0,f.observer)(l=function(e){function a(){return(0,i.default)(this,a),(0,u.default)(this,(0,d.default)(a).apply(this,arguments))}return(0,s.default)(a,e),(0,o.default)(a,[{key:"renderHeader",value:function(){var e=this.props,a=e.route,n=e.match;return c.default.createElement("div",{className:h.default.header},c.default.createElement(m.default,{type:"white",icon:"safe-notice",name:t("App Review"),desc:t("APP_REVIEW_DESC"),className:h.default.banner}),c.default.createElement("div",{className:h.default.nav},c.default.createElement(v.default,{route:a,match:n,isDark:!0})))}},{key:"render",value:function(){var e=this.props.route;return c.default.createElement("div",{className:h.default.wrapper},this.renderHeader(),c.default.createElement("div",{className:h.default.main},(0,p.renderRoutes)(e.routes)))}}]),a}(c.default.Component))||l)||l;a.default=g},3926:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(13)),l=n(a(14)),i=n(a(17)),o=n(a(16)),u=n(a(18)),d=function(e){function t(){return(0,r.default)(this,t),(0,i.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"name",get:function(){return"UnprocessedReview"}}]),t}(n(a(2691)).default);t.default=d},3927:function(e,a,n){"use strict";var r=n(4),l=n(81);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i,o,u,d=r(n(70)),s=r(n(30)),c=r(n(63)),f=r(n(61)),p=r(n(62)),m=r(n(13)),v=r(n(14)),h=r(n(17)),g=r(n(16)),y=r(n(18)),_=l(n(0)),w=r(n(1)),E=n(60),b=r(n(3)),C=r(n(2464)),k=r(n(22)),S=n(19),A=r(n(387)),N=r(n(224)),P=r(n(944)),I=r(n(3928)),R=r(n(3930)),O=r(n(3932)),j=r(n(2662)),M=r(n(3934)),T=r(n(2572)),x=r(n(2555)),D=r(n(2558)),L=r(n(3936)),F=C.default.TabPanel,H=(0,E.observer)((u=o=function(e){function a(e){var t;return(0,m.default)(this,a),(t=(0,h.default)(this,(0,g.default)(a).call(this,e))).fetchData=function(e){var a=e.detail;t.store.fetchDetail({app_id:a.app_id}),t.versionStore.fetchDetail({app_id:a.app_id,version_id:a.version_id}),t.fileStore.fetch({app_id:a.app_id,version_id:a.version_id})},t.getPackageName=function(){var e=t.props.detail,a=(0,k.default)(t.versionStore,"detail.package_name");return!a||a.startsWith("att-")?"".concat(e.app_name,"-").concat(e.version_name):a},t.handleTabChange=function(){var e=(0,p.default)(f.default.mark((function e(a){return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({tab:a});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.store=new T.default,t.versionStore=new x.default,t.fileStore=new D.default,t.state={tab:"appInfo"},t}return(0,y.default)(a,e),(0,v.default)(a,[{key:"componentWillReceiveProps",value:function(e){e.visible&&e.visible!==this.props.visible&&this.fetchData(e)}},{key:"componentDidMount",value:function(){this.props.visible&&this.fetchData(this.props)}},{key:"renderBaseInfo",value:function(){var e=(0,S.toJS)(this.store.detail),a=(0,S.toJS)(this.versionStore.detail),n=(0,k.default)(e,"screenshots",""),r=n?n.split(","):[],l=r.length;return _.default.createElement(_.default.Fragment,null,_.default.createElement(I.default,{detail:e,versionName:a.name}),_.default.createElement("div",{className:L.default.screenshots},_.default.createElement("div",{className:L.default.title},t("App Screenshots")),l>0?_.default.createElement("ul",null,r.map((function(e,t){return _.default.createElement("li",{key:t},_.default.createElement(P.default,{src:e}))}))):_.default.createElement("p",null,t("None"))))}},{key:"renderConfigFiles",value:function(){var e=this.versionStore.detail,t=this.fileStore.files;return _.default.createElement("div",null,_.default.createElement(j.default,{className:L.default.downloadInfo,fileStore:this.fileStore,packageName:this.getPackageName(),updateTime:e.update_time||e.status_time,appId:e.app_id,versionId:e.version_id,hasPackage:!0}),_.default.createElement(O.default,{files:t}))}},{key:"renderFooter",value:function(){var e=this.props,a=e.isSubmitting,n=e.onReject,r=e.onOk;return _.default.createElement("div",{className:L.default.footer},_.default.createElement(N.default,{type:"danger",onClick:n},t("Reject")),_.default.createElement(N.default,{type:"control",loading:a,disabled:a,onClick:r},t("Pass")))}},{key:"render",value:function(){var e=this.props,a=e.visible,n=e.canHandle,r=(0,c.default)(e,["visible","canHandle"]),l=(0,S.toJS)(this.versionStore.detail),i=this.state.tab,o=(0,k.default)(this.fileStore,"files",{})["README.md"];return _.default.createElement(A.default,(0,d.default)({bodyClassName:(0,b.default)(L.default.body,(0,s.default)({},L.default.hideFooter,!n)),visible:a},r,{rightScreen:!0,hideFooter:!0}),_.default.createElement(C.default,{className:"tabs-new",activeName:i,onChange:this.handleTabChange},_.default.createElement(F,{label:t("App Info"),name:"appInfo"},this.renderBaseInfo()),_.default.createElement(F,{label:t("Introduction"),name:"readme"},_.default.createElement(R.default,{readme:o})),_.default.createElement(F,{label:t("Chart File"),name:"configFiles"},this.renderConfigFiles()),_.default.createElement(F,{label:t("Update Log"),name:"updateLog"},_.default.createElement(M.default,{description:l.description}))),n&&this.renderFooter())}}]),a}(_.Component),o.propTypes={visible:w.default.bool,canHandle:w.default.bool,detail:w.default.object,onReject:w.default.func,onOk:w.default.func,onCancel:w.default.func},o.defaultProps={visible:!1,canHandle:!1,detail:{},onReject:function(){},onOk:function(){},onCancel:function(){}},i=u))||i;a.default=H},3928:function(e,a,n){"use strict";var r=n(4);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l,i,o,u=r(n(13)),d=r(n(14)),s=r(n(17)),c=r(n(16)),f=r(n(18)),p=r(n(0)),m=r(n(1)),v=n(60),h=r(n(944)),g=r(n(2607)),y=r(n(3929)),_=(0,v.observer)((o=i=function(e){function a(){return(0,u.default)(this,a),(0,s.default)(this,(0,c.default)(a).apply(this,arguments))}return(0,f.default)(a,e),(0,d.default)(a,[{key:"renderBase",value:function(){var e=this.props,a=e.detail,n=e.versionName;return p.default.createElement("div",{className:y.default.base},p.default.createElement("div",{className:y.default.title},t("Base Info")),p.default.createElement("div",{className:y.default.info},p.default.createElement("div",{className:y.default.icon},p.default.createElement(h.default,{src:a.icon,iconLetter:a.name,iconSize:100})),p.default.createElement("div",{className:y.default.words},p.default.createElement("dl",null,p.default.createElement("dd",null,a.name),p.default.createElement("dt",null,t("Name"))),p.default.createElement("dl",null,p.default.createElement("dd",null,p.default.createElement("a",{href:a.home,target:"_blank",rel:"noopener noreferrer"},a.home),!a.home&&p.default.createElement("span",null,"-")),p.default.createElement("dt",null,t("Service provider website")))),p.default.createElement("div",null,p.default.createElement("dl",null,p.default.createElement("dd",null,n),p.default.createElement("dt",null,t("App Version"))),p.default.createElement("dl",null,p.default.createElement("dd",null,a.isv),p.default.createElement("dt",null,t("Service Provider"))))),p.default.createElement("div",{className:y.default.description},p.default.createElement("dl",null,p.default.createElement("pre",null,a.description||"-"),p.default.createElement("dt",null,t("App Introduction")))),p.default.createElement("div",{className:y.default.title},t("App Description")),p.default.createElement("div",null,p.default.createElement(g.default,{source:a.abstraction||t("None"),hideLoading:!0})))}},{key:"render",value:function(){return p.default.createElement("div",{className:y.default.main},this.renderBase())}}]),a}(p.default.Component),i.propTypes={detail:m.default.object,versionName:m.default.string},i.defaultProps={detail:{},versionName:""},l=o))||l;a.default=_},3929:function(e,t,a){e.exports={base:"BaseInfo__base--3RhG5",info:"BaseInfo__info--2pPSF",icon:"BaseInfo__icon--sN1v3",words:"BaseInfo__words--vEULl",description:"BaseInfo__description--1Sv5X",title:"BaseInfo__title--1PRTS"}},3930:function(e,a,n){"use strict";var r=n(4);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=r(n(13)),i=r(n(14)),o=r(n(17)),u=r(n(16)),d=r(n(18)),s=r(n(0)),c=r(n(1)),f=r(n(2607)),p=r(n(3931)),m=function(e){function a(){return(0,l.default)(this,a),(0,o.default)(this,(0,u.default)(a).apply(this,arguments))}return(0,d.default)(a,e),(0,i.default)(a,[{key:"render",value:function(){var e=this.props.readme;return e?s.default.createElement(f.default,{source:e,className:p.default.markdown}):s.default.createElement("p",null,t("The version has no documentation"))}}]),a}(s.default.PureComponent);a.default=m,m.propTypes={readme:c.default.string},m.defaultProps={readme:""}},3931:function(e,t,a){e.exports={markdown:"AppReadme__markdown--V_-mq"}},3932:function(e,a,n){"use strict";var r=n(4);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l,i,o,u,d,s=r(n(30)),c=r(n(44)),f=r(n(13)),p=r(n(14)),m=r(n(17)),v=r(n(16)),h=r(n(66)),g=r(n(18)),y=(r(n(45)),r(n(41))),_=r(n(0)),w=n(60),E=r(n(225)),b=r(n(38)),C=n(19),k=n(953),S=r(n(3)),A=r(n(960)),N=r(n(951)),P=r(n(3933)),I=(0,w.observer)((i=function(e){function a(e){var t;return(0,f.default)(this,a),(t=(0,m.default)(this,(0,v.default)(a).call(this,e))).DEFAULT_PREVIEW_FILE="values.yaml",(0,c.default)(t,"changeMode",o,(0,h.default)(t)),(0,c.default)(t,"changeSelectFile",u,(0,h.default)(t)),(0,c.default)(t,"changePreviewType",d,(0,h.default)(t)),t.handleDownload=function(){var e=t.props.files[t.selectFile];"yaml"===t.mode?t.downloadAsYaml(e):"json"===t.mode&&t.downloadAsJSON(e)},(0,C.extendObservable)((0,h.default)(t),{selectFile:t.defaultSelectFile,mode:"yaml"}),t}return(0,g.default)(a,e),(0,p.default)(a,[{key:"downloadAsJSON",value:function(e){var t=this.selectFile.replace(/yaml$/,"json"),a="";try{a=JSON.stringify(A.default.safeLoad(e),null,2)}catch(e){a=e}this.saveAs(a,t)}},{key:"downloadAsYaml",value:function(e){var t=this.selectFile;this.saveAs(e,t)}},{key:"saveAs",value:function(e,t){var a=new Blob([e],{type:"text/plain;charset=utf-8"});(0,k.saveAs)(a,t)}},{key:"render",value:function(){return this.selectFile?_.default.createElement("div",{className:P.default.wrapper},_.default.createElement("div",{className:P.default.topbar},_.default.createElement("div",{className:P.default.icon},_.default.createElement(b.default,{name:"coding",size:20}),_.default.createElement("span",null,t("Config files"))),this.renderFileSelect()),_.default.createElement("div",{className:P.default.edit},this.renderPreviewToolbar(),this.renderPreviewContent())):_.default.createElement("p",null,t("The app has no config file"))}},{key:"renderFileSelect",value:function(){return _.default.createElement(E.default,{defaultValue:this.selectFile,onChange:this.changeSelectFile,options:this.fileOptions})}},{key:"renderPreviewToolbar",value:function(){return _.default.createElement("div",{className:P.default.toolbar},_.default.createElement(b.default,{className:P.default.download,name:"download",size:20,color:{primary:"#fff"},onClick:this.handleDownload,clickable:!0,changeable:!0}))}},{key:"renderPreviewTypeBtn",value:function(e,t){var a=this;return _.default.createElement("span",{className:(0,S.default)(P.default.preview_btn,(0,s.default)({},P.default.active,this.mode===e)),onClick:function(){return a.changePreviewType(e)}},t)}},{key:"renderPreviewContent",value:function(){return _.default.createElement(N.default,{mode:this.mode,value:this.props.files[this.selectFile],options:{readOnly:!0}})}},{key:"fileOptions",get:function(){var e=this.props.files,t=void 0===e?{}:e;return Object.keys(t).map((function(e){return{label:e,value:e}}))}},{key:"defaultSelectFile",get:function(){var e=this.props.files,t=(void 0===e?{}:e)[this.DEFAULT_PREVIEW_FILE],a=this.fileOptions.length?this.fileOptions[0].value:"";return t?this.DEFAULT_PREVIEW_FILE:a}}]),a}(_.default.Component),(0,y.default)(i.prototype,"fileOptions",[C.computed],Object.getOwnPropertyDescriptor(i.prototype,"fileOptions"),i.prototype),(0,y.default)(i.prototype,"defaultSelectFile",[C.computed],Object.getOwnPropertyDescriptor(i.prototype,"defaultSelectFile"),i.prototype),o=(0,y.default)(i.prototype,"changeMode",[C.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.mode=t}}}),u=(0,y.default)(i.prototype,"changeSelectFile",[C.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.selectFile=t}}}),d=(0,y.default)(i.prototype,"changePreviewType",[C.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.mode=t}}}),l=i))||l;a.default=I},3933:function(e,t,a){e.exports={wrapper:"TextPreview__wrapper--C9RBD",topbar:"TextPreview__topbar--1qDSB",icon:"TextPreview__icon--3srqZ",edit:"TextPreview__edit--2jL4K",toolbar:"TextPreview__toolbar--2_GUQ",download:"TextPreview__download--3jjk2",preview_btn:"TextPreview__preview_btn--20Qa4",active:"TextPreview__active--3QE1z"}},3934:function(e,a,n){"use strict";var r=n(4);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=r(n(13)),i=r(n(14)),o=r(n(17)),u=r(n(16)),d=r(n(18)),s=r(n(0)),c=r(n(1)),f=r(n(3935)),p=function(e){function a(){return(0,l.default)(this,a),(0,o.default)(this,(0,u.default)(a).apply(this,arguments))}return(0,d.default)(a,e),(0,i.default)(a,[{key:"render",value:function(){var e=this.props.description;return s.default.createElement("div",{className:f.default.main},s.default.createElement("div",{className:f.default.title},t("Update Log")),s.default.createElement("pre",{className:f.default.updateLog},e||t("No update log")))}}]),a}(s.default.PureComponent);a.default=p,p.propTypes={description:c.default.string},p.defaultProps={description:""}},3935:function(e,t,a){e.exports={main:"UpdateLog__main--2u4FA",title:"UpdateLog__title--1xP27"}},3936:function(e,t,a){e.exports={body:"AppReview__body--2Iouo",hideFooter:"AppReview__hideFooter--3c8gx",downloadInfo:"AppReview__downloadInfo--3KDp6",screenshots:"AppReview__screenshots--2hMAd",title:"AppReview__title--1CJO5",footer:"AppReview__footer--3qPgJ"}},3937:function(e,a,n){"use strict";var r=n(81),l=n(4);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=l(n(70)),o=l(n(63)),u=l(n(13)),d=l(n(14)),s=l(n(17)),c=l(n(16)),f=l(n(18)),p=r(n(0)),m=l(n(1)),v=l(n(2453)),h=l(n(387)),g=l(n(267)),y=l(n(3938)),_=function(e){function a(e){var t;return(0,u.default)(this,a),(t=(0,s.default)(this,(0,c.default)(a).call(this,e))).handleReject=function(){return t.formRef.validate((function(){return t.props.onOk({version_id:t.props.versionId,message:t.state.message})}))},t.changeMessage=function(e){t.setState({message:e})},t.state={message:""},t}return(0,f.default)(a,e),(0,d.default)(a,[{key:"render",value:function(){var e=this,a=this.props,n=a.visible,r=(0,o.default)(a,["visible"]),l={message:this.state.message};return p.default.createElement(h.default,(0,i.default)({width:600,visible:n},r,{onOk:this.handleReject,footerClassName:y.default.footer}),p.default.createElement(g.default,{data:l,ref:function(t){e.formRef=t},className:y.default.rejectForm},p.default.createElement(g.default.Item,{rules:[{required:!0,message:t("Please input reject reason")}]},p.default.createElement(v.default,{name:"message",onChange:this.changeMessage}))))}}]),a}(p.Component);a.default=_,_.propTypes={versionId:m.default.string,onOk:m.default.func,onCancel:m.default.func},_.defaultProps={versionId:"",onOk:function(){},onCancel:function(){}}},3938:function(e,t,a){e.exports={rejectForm:"ReviewReject__rejectForm--2HRp9",footer:"ReviewReject__footer--2lsP4"}},3939:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,l,i,o,u=n(a(37)),d=n(a(61)),s=n(a(63)),c=n(a(62)),f=n(a(44)),p=n(a(13)),m=n(a(14)),v=n(a(17)),h=n(a(16)),g=n(a(66)),y=n(a(18)),_=n(a(41)),w=(n(a(45)),a(19)),E=n(a(22)),b=n(a(959)),C=a(49),k=(r=function(e){function t(){var e,a;(0,p.default)(this,t);for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return(a=(0,v.default)(this,(e=(0,h.default)(t)).call.apply(e,[this].concat(r)))).resourceName="reviews",a.sortKey="status_time",(0,f.default)(a,"list",l,(0,g.default)(a)),(0,f.default)(a,"handle",i,(0,g.default)(a)),(0,f.default)(a,"queryApps",o,(0,g.default)(a)),a}var a;return(0,y.default)(t,e),(0,m.default)(t,[{key:"fetchReviewList",value:(a=(0,c.default)(d.default.mark((function e(){var t,a,n,r,l=arguments;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=l.length>0&&void 0!==l[0]?l[0]:{}).queryApp,a=(0,s.default)(t,["queryApp"]),e.next=3,this.fetchList(a);case 3:return this.list.isLoading=!0,n=(0,E.default)(this,"list.data",[]).map((function(e){return e.app_id})),e.next=7,this.queryApps((0,b.default)(n).join("|"));case 7:r=e.sent,Object.assign(this.list,{apps:(0,E.default)(r,"items",[]),isLoading:!1});case 9:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})}]),t}(n(a(2554)).default),l=(0,_.default)(r.prototype,"list",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,u.default)({},this.list,{apps:[]})}}),i=(0,_.default)(r.prototype,"handle",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return((0,c.default)(d.default.mark((function t(){var a,n,r,l,i,o=arguments;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>0&&void 0!==o[0]?o[0]:{},n=a.app_id,r=a.version_id,l=(0,s.default)(a,["app_id","version_id"]),i=e.getUrl({app_id:n,version_id:r,name:"action"}),t.next=4,e.submitting(request.post(i,l));case 4:case"end":return t.stop()}}),t)}))))}}),(0,_.default)(r.prototype,"fetchReviewList",[w.action],Object.getOwnPropertyDescriptor(r.prototype,"fetchReviewList"),r.prototype),o=(0,_.default)(r.prototype,"queryApps",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(function(){var t=(0,c.default)(d.default.mark((function t(a){return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,request.get(e.getUrl({name:"apps"}),{conditions:(0,C.getFilterString)({app_id:a})});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}),r);t.default=k},3940:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(13)),l=n(a(14)),i=n(a(17)),o=n(a(16)),u=n(a(18)),d=function(e){function t(){return(0,r.default)(this,t),(0,i.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"name",get:function(){return"ProcessedReview"}}]),t}(n(a(2691)).default);t.default=d},3941:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(13)),l=n(a(14)),i=n(a(17)),o=n(a(16)),u=n(a(18)),d=function(e){function t(){return(0,r.default)(this,t),(0,i.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"name",get:function(){return"AllReview"}}]),t}(n(a(2691)).default);t.default=d}}]);