"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var traverseFileTree = function traverseFileTree(files, callback, isAccepted) {
  var traverse = function traverse(item, path) {
    var currentPath = path || '';

    if (item.isFile) {
      item.file(function (file) {
        if (isAccepted(file)) {
          callback([file]);
        }
      });
    } else if (item.isDirectory) {
      var dirReader = item.createReader();
      dirReader.readEntries(function (entries) {
        entries.forEach(function (entry) {
          traverse(entry, "".concat(currentPath).concat(item.name, "/"));
        });
      });
    }
  };

  files.forEach(function (file) {
    traverse(file.webkitGetAsEntry());
  });
};

var _default = traverseFileTree;
exports.default = _default;